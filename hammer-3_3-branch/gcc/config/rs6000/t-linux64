#rs600/t-linux64

# The idea of this single entry multilib which also happens to be the
# default, is to search $tooldir/lib64 for powerpc64 libs and crt files
# instead of $tooldir/lib.  This is the same dir that the biarch
# compiler searches.
MULTILIB_OPTIONS        = m64
MULTILIB_DIRNAMES       = 64
MULTILIB_EXTRA_OPTS     = fPIC mstrict-align
MULTILIB_OSDIRNAMES	= ../lib64

CRTSTUFF_T_CFLAGS_S = -mno-minimal-toc -fPIC
TARGET_LIBGCC2_CFLAGS = -mno-minimal-toc -fPIC

EXTRA_MULTILIB_PARTS=crtbegin.o crtend.o crtbeginS.o crtendS.o crtbeginT.o \
			crtsavres.o

LIB2FUNCS_EXTRA = $(srcdir)/config/rs6000/ppc64-fp.c

# ld provides these functions as needed.
crtsavres.S:
	echo >crtsavres.S

$(T)crtsavres.o: crtsavres.S
	$(GCC_FOR_TARGET) $(GCC_CFLAGS) $(INCLUDES) $(MULTILIB_CFLAGS) -c crtsavres.S -o $(T)crtsavres.o
