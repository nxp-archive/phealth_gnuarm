LIB1ASMSRC = i386/cygwin.asm
LIB1ASMFUNCS = _chkstk
EXTRA_GCC_OBJS = cygwin1.o

# cygwin always has a limits.h, but, depending upon how we are doing
# the build, it may not be installed yet.
LIMITS_H_TEST = true

# If we are building next to winsup, this will let us find the real
# limits.h when building libgcc2.  Otherwise, winsup must be installed
# first.
LIBGCC2_INCLUDES = -I$(srcdir)/../winsup/include \
	-I$(srcdir)/../winsup/cygwin/include \
	-I$(srcdir)/../winsup/w32api/include

winnt.o: $(srcdir)/config/i386/winnt.c $(RTL_H) $(TREE_H) $(CONFIG_H)
	$(CC) -c $(ALL_CFLAGS) $(ALL_CPPFLAGS) $(INCLUDES) $(srcdir)/config/i386/winnt.c

cygwin1.o: $(srcdir)/config/i386/cygwin1.c
	$(CC) -c $(ALL_CFLAGS) $(ALL_CPPFLAGS) $(INCLUDES) $?

cygwin2.o: $(srcdir)/config/i386/cygwin2.c
	$(CC) -c $(ALL_CFLAGS) $(ALL_CPPFLAGS) $(INCLUDES) $?

# Don't run fixproto
STMP_FIXPROTO =
