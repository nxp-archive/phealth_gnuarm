# @configure_input@
# Makefile for libpcp.  Run 'configure' to generate Makefile from Makefile.in

# Copyright (C) 2009 Free Software Foundation, Inc.

#This file is part of GCC.

#GCC is free software; you can redistribute it and/or modify
#it under the terms of the GNU General Public License as published by
#the Free Software Foundation; either version 2, or (at your option)
#any later version.

#GCC is distributed in the hope that it will be useful,
#but WITHOUT ANY WARRANTY; without even the implied warranty of
#MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
#GNU General Public License for more details.

#You should have received a copy of the GNU General Public License
#along with GCC; see the file COPYING.  If not, write to
#the Free Software Foundation, 51 Franklin Street, Fifth Floor,
#Boston MA 02110-1301, USA.

@SET_MAKE@

srcdir = @srcdir@
top_builddir = .
VPATH = @srcdir@
INSTALL = @INSTALL@
AR = ar
ARFLAGS = cru
ACLOCAL = @ACLOCAL@
AUTOCONF = @AUTOCONF@
AUTOHEADER = @AUTOHEADER@
CC = @CC@
CFLAGS = @CFLAGS@
WARN_CFLAGS = @WARN_CFLAGS@ @WARN_PEDANTIC@ @WERROR@
CPP = @CPP@
CPPFLAGS = @CPPFLAGS@
INSTALL_DATA = @INSTALL_DATA@
INSTALL_PROGRAM = @INSTALL_PROGRAM@
LDFLAGS = @LDFLAGS@
LIBICONV = @LIBICONV@
PACKAGE = @PACKAGE@
RANLIB = @RANLIB@
SHELL = @SHELL@

datarootdir = @datarootdir@
datadir = @datadir@
exec_prefix = @prefix@
libdir = @libdir@
localedir = $(datadir)/locale
prefix = @prefix@

# How to find GMP
GMPLIBS = @GMPLIBS@
GMPINC = @GMPINC@

# How to find PPL
PPLLIBS = @PPLLIBS@
PPLINC = @PPLINC@

# How to find CLOOG
CLOOGLIBS = @CLOOGLIBS@
CLOOGINC = @CLOOGINC@

INCLUDES = -I. -I$(srcdir) $(GMPINC) $(PPLINC) $(CLOOGINC)

ALL_CFLAGS = $(CFLAGS) $(WARN_CFLAGS) $(INCLUDES) $(CPPFLAGS) 


libpcp_a_OBJS = pcp.o \
	pcp_c.o \
	pcp_cloog_gateway.o \
	pcp_domain.o \
	pcp_emitter.o \
	pcp_error.o \
	pcp_expr_canonicalizer.o \
	pcp_full_visitor.o \
	pcp_parser.o  \
	pcp_poly.o \
	pcp_poly_spi.o \
	pcp_poly_spi_c.o \
	pcp_scalar_order.o \
	pcp_scattering.o \
	pcp_string_buffer.o \
	pcp_visitor.o

libpcp_a_SOURCES = pcp.h pcp.cc \
	pcp_alloc.h \
	pcp_c.h pcp_c.cc \
	pcp_cloog_gateway.h pcp_cloog_gateway.cc \
	pcp_domain.h pcp_domain.cc \
	pcp_dynamic_array.h \
	pcp_emitter.h pcp_emitter.pcc \
	pcp_error.h pcp_error.cc \
	pcp_expr_canonicalizer.h pcp_expr_canonicalizer.cc \
	pcp_full_visitor.h pcp_full_visitor.cc \
	pcp_gcc_stuff.h \
	pcp_map.h \
	pcp_parser.h pcp_parser.cc \
	pcp_poly.h pcp_poly.cc \
	pcp_poly_spi.h pcp_poly_spi.h \
	pcp_poly_spi_c.h pcp_poly_spi_c.cc \
	pcp_scalar_order.h pcp_scalar_order.cc \
	pcp_scattering.h pcp_scattering.cc \
	pcp_set.h \
	pcp_stack.h \
	pcp_string_buffer.h pcp_string_buffer.cc \
	pcp_visitor.h pcp_visitor.cc


tester_OBJS = pcp_tester.o

tester_SOURCES = pcp_tester.cc pcp_tester.h 

all: libpcp.a pcp-tester


.SUFFIXES:
.SUFFIXES: .cc .c .o .obj

libpcp.a: $(libpcp_a_OBJS) 
	-rm -f $@
	$(AR) $(ARFLAGS) $@ $(libpcp_a_OBJS)
	$(RANLIB) $@

pcp-tester: $(tester_OBJS) libpcp.a 
	$(CXXCOMPILEBIN) $(tester_OBJS) libpcp.a $(CLOOGLIBS) $(PPLLIBS) $(GMPLIBS) -o pcp-tester

# Rules to rebuild the configuration

Makefile: $(srcdir)/Makefile.in config.status
	$(SHELL) ./config.status Makefile

config.status: @MAINT@ $(srcdir)/configure
	$(SHELL) ./config.status --recheck

$(srcdir)/configure: @MAINT@ $(srcdir)/aclocal.m4
	cd $(srcdir) && $(AUTOCONF)

$(srcdir)/aclocal.m4: $(srcdir)/../config/stdint.m4 \
	$(srcdir)/../config/warnings.m4 $(srcdir)/../config/override.m4 \
	$(srcdir)/configure.ac
	cd $(srcdir) && $(ACLOCAL) -I ../config

config.h: stamp-h1
	test -f config.h || (rm -f stamp-h1 && $(MAKE) stamp-h1)

stamp-h1: $(srcdir)/config.in config.status
	-rm -f stamp-h1
	$(SHELL) ./config.status config.h

$(srcdir)/config.in: @MAINT@ $(srcdir)/configure
	cd $(srcdir) && $(AUTOHEADER)
	-rm -f stamp-h1

# Dependencies.

# Other miscellaneous targets.

mostlyclean:
	-rm -f *.o

clean: mostlyclean
	-rm -rf makedepend$(EXEEXT) libpcp.a $(srcdir)/autom4te.cache

distclean: clean
	-rm -f config.h stamp-h1 config.status config.cache config.log \
	  configure.lineno configure.status.lineno Makefile localedir.h \
	  localedir.hs gstdint.h

maintainer-clean: distclean
	@echo "This command is intended for maintainers to use"
	@echo "it deletes files that may require special tools to rebuild."
	-rm -f $(srcdir)/configure $(srcdir)/aclocal.m4

check:
installcheck:
dvi:
pdf:
html:
info:
install-info:
install-pdf:
install-man:
install-html:
install:

.PHONY: installdirs install install-strip mostlyclean clean distclean \
  maintainer-clean check installcheck dvi pdf html info install-info \
  install-pdf install-man update-po install-html

CXXCOMPILE = source='$<' object='$@' libtool=no $(CXX) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) \
	$(AM_CPPFLAGS) $(CPPFLAGS) $(AM_CXXFLAGS) $(CXXFLAGS) -c

CXXCOMPILEBIN = source='$<' object='$@' libtool=no $(CXX) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) \
	$(AM_CPPFLAGS) $(CPPFLAGS) $(AM_CXXFLAGS) $(CXXFLAGS)

# Implicit rules

.cc.o:
	$(CXXCOMPILE) $<

# Tell versions [3.59,3.63) of GNU make to not export all variables.
# Otherwise a system limit (for SysV at least) may be exceeded.
.NOEXPORT:
