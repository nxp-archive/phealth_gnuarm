Welcome to the ISO_C_BINDING sandbox!

Please comment here the changes you make to the code, dated with every
commit to the branch, so that we don't get lost.

2007-02-02  Christopher D. Rickett  <crickett@lanl.gov>
	* gfortran.dg/c_kind_tests_2.f03: New test case for
	verifying C interoperable kinds for BIND(C) variables.
	* gfortran.dg/interop_params.f03: New test case for verifying
	C interoperable kinds for dummy args to BIND(C) routines.
	* fortran/symbol.c: Modified call to verify_c_interop in
	verify_bind_c_derived_type to give args for component name and
	location.
	* fortran/decl.c: Modified calls to verify_c_interop to give
	args for symbol name and location.  Slightly changed a couple
	warning messages.  Removed validation of C kind from
	gfc_match_kind_spec.  Added validation of C kind to
	verify_c_interop.  Removed the verification of C interoperability in  
	build_sym since it is done in variable_decl.  Modified checks on
	BIND(C) derived types to include errors for the definition and any
	variable declared with it.
	* fortran/gfortran.h: Changed the prototype for
	verify_c_interop to take args for the symbol/component name and
	location.  These are used for an error message if the validation
	of the C kind fails.


2007-01-24  Christopher D. Rickett  <crickett@lanl.gov>

	* libgfortran/intrincsics/iso_c_binding.h: Fix comments.
	Remove c_null_ptr and c_null_funptr prototypes.

2007-01-24  Christoper D. Rickett  <crickett@lanl.gov>

	* fortran/symbol.c: Removed javadoc style comment blocks and
	converted to GNU style.  Also, put the function type and name on
	separate lines.  Removed commented out return in
	verify_bind_c_derived_type.
	* fortran/decl.c: Converted javadoc to GNU style for functions
	and put the function return type and name on separate lines.
	* fortran/trans-types.c: Ditto on commenting style.
	* fortran/resolve.c: Ditto on commenting style.  Also,
	combined two if statements in gfc_iso_c_sub_interface.
	* fortran/match.c: Ditto on commenting style.
	* fortran/trans-decl.c: Ditto on commenting style.
	* fortran/misc.c: Ditto on commenting style.
	* gfortran.dg/bind_c_usage_3.f03: New test.
	* gfortran.dg/c_ptr_tests_5.f03: Ditto.


2007-01-21  Francois-Xavier Coudert  <coudert@clipper.ens.fr>

	* gfortran.h: Add new fields from_intmod and intmod_sym_id to the
	gfc_symbol structure, to keep track of symbols coming from
	intrinsic modules so we can special-case them when needed.
	* symbol.c (generate_isocbinding_symbol): Set these new fields.
	* module.c: Set these new fields, and use the fact that we know
	have a symbolic id per symbol to rework the code dealing with
	ISO_FORTRAN_ENV.

2007-01-19  Christopher D. Rickett

	* decl.c: Fixed bugs in verifying BIND(C) variables
	and C interoperable kinds.  Modified the way errors for each are
	handled in some cases.
	* gfortran.h: Changed the return type of verify_bind_c_derived_type(). 
	* module.c: Added the ts.f90_type field to the module file. 
	* match.h: Changed the return types of
	verify_com_block_vars_c_interop() and verify_bind_c_sym().
	* libgfortran/intrinsics/iso_c_binding.h: Removed the declarations
	of c_null_ptr and c_null_funptr.
	* symbol.c (generate_isocbinding_symbol): Added function calls for
	generating c_null_ptr and c_null_funptr.
	* gcc/fortran/symbol.c: Fixed bugs in c_null_ptr/c_null_funptr.
	Changed the way errors were handled for checking BIND(C) variables. 
	* gcc/fortran/lang-specs.h: Added options for .f03/.F03 extensions. 
	* options.c (form_from_filename): Added entry for .f03/.F03 extensions.
	* trans-expr.c (gfc_conv_function_call): Whitespace.
	* gfortran.dg/bind_c_usage_2.f03: New test.
	* gfortran.dg/c_ptr_tests.f03: Ditto.
	* gfortran.dg/kind_tests_2.f03: Ditto.
	* gfortran.dg/kind_tests_3.f03: Ditto.

2006-12-27  Steven G. Kargl  <kargl@gcc.gnu.org>

	* Revert revision 120187, 120190, and 120209.

2006-12-19  Tobias Burnus  <burnus@net-b.de>

	* gcc/fortran/iso-c-binding.def: Use NAMED_REALCST, NAMED_CMPXCST,
	  NAMED_LOGCST and NAMED_CHARKNDCST.
	* gcc/fortran/gfortran.h (iso_c_binding_symbol): Use them.
	* gcc/fortran/symbol.c (generate_isocbinding_symbol): Use them.
	* gcc/fortran/trans-types.c (init_c_interop_kinds): Assign the
	  right BT_* type to "f90_type" using the added NAMED_*CST.

	* gcc/testsuite/gfortran.dg/use_iso_c_binding.f90:
	  Fix dg-error.

2006-12-18  FX

	* plenty of files: Initial commit of Christopher's patch,
	slightly reworked by me.
