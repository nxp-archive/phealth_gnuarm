1999-07-31  Alexandre Oliva  <oliva@dcc.unicamp.br>

	* lib/libjava.exp (bytecompile_file): Use `env(SUN_JAVAC)', that
	defaults to javac, as Sun-javac compiler or compatible.
	(libjava_init): Get GCJ from environment if neither GCJ_UNDER_TEST 
	nor TOOL_EXECUTABLE are set.  Set `original_ld_library_path' from
	environment.
	(libjava_arguments): Prepend `.' and `$srcdir/$subdir' to
	CLASSPATH, for `support' sources.  Search for libgcj.spec in
	`$objdir/..', by adding -B to GCJ_UNDER_TEST.  Append
	original_ld_library_path to ld_library_path.
	* libjava.mauve/mauve.exp (test_mauve): Set `env(GCJ)' from
	GCJ_UNDER_TEST, calculated just like in libjava.exp.

1999-07-06  Tom Tromey  <tromey@cygnus.com>

	* libjava.lang/Final.xfail: Output fails, not exec.

	* libjava.lang/Throw_1.xfail: New file.
	* libjava.lang/Invoke_2.xfail: New file.
	* libjava.lang/Shazam.xfail: New file.

	* libjava.lang/Final.xfail: New file.
	* libjava.compile/Case.xfail: New file.
	* libjava.compile/Where.xfail: New file.
	* libjava.compile/test.exp: Look for `.xfail' files.
	* libjava.lang/test.exp: Don't look for `.arg' files.
	Do look for `.xfail' files.
	* lib/libjava.exp (test_libjava_from_source): Changed meaning of
	`exec_args' argument.  Handle `xfail-*' arguments.
	(test_libjava_from_javac): Likewise.
	(test_libjava): Likewise.
	(libjava_read_xfail): New proc.

1999-07-05  Bryce McKinlay  <bryce@albatross.co.nz>

	* libjava.lang/Final.java: Added.
	* libjava.lang/Final.out: Added.

1999-07-02  Tom Tromey  <tromey@cygnus.com>

	* libjava.lang/Finalize_1.out: Removed.
	* libjava.lang/Finalize_1.java: Removed.

	* libjava.lang/Thread_1.out: Updated.
	* libjava.lang/Thread_1.java: Don't run exit test.

Thu Jul  1 16:22:19 1999  Anthony Green  <green@cygnus.com>

	* libjava.mauve/mauve.exp: Don't stop counting test results
 	prematurely.

1999-06-25  Tom Tromey  <tromey@cygnus.com>

	* lib/libjava.exp (test_libjava_from_javac): Fixed typo.  Always
	make class_files a list.

	* lib/libjava.exp (test_libjava_from_javac): Prepend `$objdir/' to
	class file names.

1999-06-24  Tom Tromey  <tromey@cygnus.com>

	* lib/libjava.exp (libjava_arguments): If `libtool' not found in
	build tree, just use $GCJ_UNDER_TEST as compiler.

1999-06-23  Tom Tromey  <tromey@cygnus.com>

	* lib/libjava.exp (libjava_arguments): Handle -lzgcj.

1999-05-24  Anthony Green  <green@cygnus.com>

	* libjava.lang/Shazam.java: New file.
	libjava.lang/Shazam.out: New file.

1999-05-12  Andrew Haley  <aph@cygnus.com>

	* libjava.lang/Invoke_2.java: New file.

1999-05-03  Tom Tromey  <tromey@cygnus.com>

	* lib/libjava.exp (libjava_arguments): Don't use -nodefaultlibs.
	(libjava_find_lib): Add `-L' option to find the actual library.

	* libjava.mauve/mauve.exp (test_mauve): Pass `link' to
	libjava_arguments when linking.
	(test_mauve_sim): Likewise.
	* lib/libjava.exp (libjava_arguments): Run `libtool' to link.
	Don't use `-static'.  Added `mode' argument.  Use -nodefaultlibs
	when linking.
	(test_libjava_from_source): Mention why target_compile failed.
	Pass `link' to libjava_arguments when linking.  Only do `xfails'
	for tests we would actually have run.
	(test_libjava_from_javac): Likewise.
	(libjava_find_lib): Return name of `.la' file.

1999-04-26  Tom Tromey  <tromey@cygnus.com>

	* lib/libjava.exp (libjava_find_lib): New proc.
	(libjava_arguments): Use it.  Force static linking.

Thu Apr 22 14:19:35 1999  Anthony Green  <green@cygnus.com>

	* libjava.compile/OperatorBenchmark.java: New file.

1999-04-09  Warren Levy  <warrenl@cygnus.com>

	* libjava.mauve/mauve.exp (KEYS): Default to libgcj.

1999-04-09  Tom Tromey  <tromey@cygnus.com>

	* libjava.compile/plusplus.java: New file.
	From MoT <Sebastien.Villemot@ens.fr>.

1999-04-06  Tom Tromey  <tromey@cygnus.com>

	* libjava.mauve/mauve.exp (test_mauve_sim): Reference
	mauve-libgcj.
	(test_mauve): Likewise.

1999-03-30  Tom Tromey  <tromey@cygnus.com>

	* libjava.mauve/mauve.exp: Renamed from test.exp.  With the new
	name it is easier to run just the Mauve tests.

	* libjava.mauve/test.exp (test_mauve): Added gnu/testlet/config to
	list of files to link in.
	(test_mauve_sim): Likewise.
	* libjava.mauve/DejaGNUTestHarness.java (srcdir, tmpdir): New
	static variables.
	(DejaGNUTestHarness): Removed argument from constructor.
	(dejasrcdir): New static variable.
	(main): Set `dejasrcdir'.
	(getSourceDirectory): New method.

1999-03-08  Tom Tromey  <tromey@cygnus.com>

	* libjava.compile/perc.java: New file.

1999-02-26  Tom Tromey  <tromey@cygnus.com>

	* libjava.util/test.exp: Removed.

1999-02-25  Tom Tromey  <tromey@cygnus.com>

	* libjava.mauve/test.exp: Make sure current directory is correct
	after tests are run.

	* libjava.mauve/test.exp (test_mauve): Removed extra arg in call
	to bytecompile_file.
	(test_mauve_sim): Likewise.

Thu Feb 25 09:21:03 1999  Anthony Green  <green@cygnus.com>

	* libjava.compile/euc_comment1.java,
	libjava.compile/euc_comment2.java,
	libjava.compile/euc_comment3.java,
	libjava.compile/euc_comment1.java,
	libjava.compile/euc_comment2.java,
	libjava.compile/euc_comment3.java: New files.

	* libjava.compile/Case.java, libjava.compile/support/Case.java:
	New files.

1999-02-24  Tom Tromey  <tromey@cygnus.com>

	* lib/libjava.exp (find_jvscan): New proc.
	(bytecompile_file): Removed `srcfile_in' argument.
	(test_libjava_from_javac): Use `jv-scan' program to find name of
	`main' and name of all generated classes.  Compile all generated
	classes, not just primary class.  For no-exec tests, only try to
	build the .o, not the full executable.

Wed Feb 24 11:22:32 1999  Anthony Green  <green@hoser.cygnus.com>

	* libjava.compile/test.exp: Minor fix.

1999-02-23  Anthony Green  <green@cygnus.com>

	* libjava.compile/Where.java, libjava.compile/support/Waldo.java,
	libjava.compile/Twice.java, libjava.compile/Semi.java,
	libjava.compile/Statics.java, libjava.compile/test.exp,
	libjava.lang/Synch.java, libjava.lang/Synch.out: New files.

1999-02-16  Tom Tromey  <tromey@cygnus.com>

	* Makefile.in: Rebuilt.
	* Makefile.am (AUTOMAKE_OPTIONS): Added no-installinfo.

Wed Feb 17 19:53:51 1999  Warren Levy  <warrenl@cygnus.com>

	* libjava.mauve/test.exp: modified file allows Mauve tests to
	run on JMR board; simplified script to use same procedure for
	all testing

1999-02-10  Tom Tromey  <tromey@cygnus.com>

	* lib/libjava.exp (libjava_arguments): Updated to track library
	renames.

1999-02-07  Tom Tromey  <tromey@cygnus.com>

	* libjava.lang/slash.java: New file.
	* libjava.lang/slash.out: New file.

Mon Feb  1 05:17:40 1999  Anthony Green  <green@fencer.cygnus.com>

	* lib/libjava.exp: Test compiling from source as well as from
	bytecodes.

1999-01-11  Tom Tromey  <tromey@cygnus.com>

	* libjava.mauve/test.exp (mauve_compute_uses): Read classes file,
	not choices file.

	* libjava.mauve/test.exp (test_mauve): Added
	ResourceNotFoundException to list of harness files to compile.
	(test_mauve_sim): Likewise.

1998-12-17  Tom Tromey  <tromey@cygnus.com>

	* libjava.lang/Invoke_1.java: New file.

	* libjava.lang/Thread_1.java (Thread_1): Class now public.
	* libjava.lang/Array_1.java (Array_1): Class now public.

	* libjava.lang/Throw_1.out: New file.
	* libjava.lang/Throw_1.java: New file.

1998-12-11  Tom Tromey  <tromey@cygnus.com>

	* lib/libjava.exp (libjava_arguments): New proc.
	(test_libjava): Use it.
	(bytecompile_file): Added classpath argument.
	* libjava.mauve/test.exp: New file.
	* libjava.mauve/DejaGNUTestHarness.java: New file.

1998-12-08  Tom Tromey  <tromey@cygnus.com>

	* Various: removed all test files that migrated to Mauve.

1998-12-07  Tom Tromey  <tromey@cygnus.com>

	* libjava.lang/Array_1.java (main): Removed extraneous
	getSuperclass call.

1998-11-23  Tom Tromey  <tromey@cygnus.com>

	* libjava.lang/Finalize_1.java (main): Clear `f' before GC.

1998-10-08  Tom Tromey  <tromey@cygnus.com>

	* libjava.lang/Thread_1.out: Added missing line.

Fri Oct  2 14:55:46 1998  Tom Tromey  <tromey@cygnus.com>

	* libjava.lang/Array_1.java: Changed so Cloneable test can run
	even if clone test itself fails.

	* libjava.lang/Array_1.java: Uncommented calls to getSuperclass.
	Added test to see if array implements Cloneable.

Thu Oct  1 11:28:06 1998  Tom Tromey  <tromey@cygnus.com>

	* libjava.lang/Array_1.java: New file.
	* libjava.lang/Array_1.out: New file.

Thu Oct  1 13:51:00 1998  Anthony Green  <green@cygnus.com>

	* testsuite/lib/libjava.exp: Find qthreads library correctly.

Tue Sep 29 16:36:43 1998  Warren Levy  <warrenl@cygnus.com>

	* libjava.util/Hashtable_1.java, libjava.util/Hashtable_1.out: Created.

Tue Sep 29 00:40:26 1998  Tom Tromey  <tromey@cygnus.com>

	* libjava.lang/Thread_1.java (started): New field.
	(run): Set `started'.  Handle all synchronization here.
	(Thread_1): Initialize `started'.
	(doit): Just start both threads and let them handle their own
	synchronization.

	* libjava.lang/Boolean_5.out: Changed to reflect the
	Boolean_5.java changes.
	* libjava.lang/Boolean_5.java: Don't replace the system
	properties, just augment them.  Don't print the property object.
	* libjava.lang/Long_2.out: Changed to reflect Long_2.java
	changes.
	* libjava.lang/Long_2.java: Don't replace the system properties,
	just augment them.  Don't print the property object.
	* libjava.lang/Integer_2.out: Changed to reflect Integer_2.java
	changes.
	* libjava.lang/Integer_2.java: Don't replace the system
	properties, just augment them.  Don't print the property object.

Sat Sep 26 15:57:39 1998  Tom Tromey  <tromey@cygnus.com>

	* libjava.lang/Thread_1.java (main): Catch InterruptedException.

Tue Sep 22 13:45:58 1998  Tom Tromey  <tromey@cygnus.com>

	* libjava.lang/Thread_1.out: New file.
	* libjava.lang/Thread_1.java: New file.

Mon Sep 21 14:20:08 1998  Tom Tromey  <tromey@cygnus.com>

	* lib/libjava.exp (test_libjava): Use runtest_file_p to see if
	test should be short-circuited.

Tue Sep 15 13:57:45 1998  Tom Tromey  <tromey@cygnus.com>

	* libjava.lang/Character_9.java: New file.
	* libjava.lang/Character_9.out: New file.

Mon Sep 14 12:27:04 1998  Tom Tromey  <tromey@cygnus.com>

	* libjava.lang/Character_8.out: New file.
	* libjava.lang/Character_8.java: New file.
	* libjava.lang/Character_7.out: New file.
	* libjava.lang/Character_7.java: New file.
	* libjava.lang/Character_6.out: New file.
	* libjava.lang/Character_6.java: New file.
	* libjava.lang/Character_5.out: New file.
	* libjava.lang/Character_5.java: New file.
	* libjava.lang/Character_4.out: New file.
	* libjava.lang/Character_4.java: New file.
	* libjava.lang/Character_3.out: New file.
	* libjava.lang/Character_3.java: New file.
	* libjava.lang/Character_2.out: New file.
	* libjava.lang/Character_2.java: New file.

Fri Sep 11 10:04:55 1998  Tom Tromey  <tromey@cygnus.com>

	* libjava.lang/Character_1.out: New file.
	* libjava.lang/Character_1.java: New file.

Fri Sep 18 14:43:59 1998  Warren Levy  <warrenl@cygnus.com>

	* libjava.lang/Long_1.java, libjava.lang/Long_1.out,
	libjava.lang/Long_2.java, libjava.lang/Long_2.out: Created.

Fri Sep 18 12:43:52 1998  Warren Levy  <warrenl@cygnus.com>

	* libjava.lang/Integer_1.java, libjava.lang/Integer_1.out,
	libjava.lang/Integer_2.java, libjava.lang/Integer_2.out: Created.
	
	* libjava.lang/String_2.java, libjava.lang/String_2.out: Use JDK 1.2
	values for hashCode.

Thu Sep 10 12:44:42 1998  Warren Levy  <warrenl@cygnus.com>

	* libjava.lang/String_1.java, libjava.lang/String_1.out,
 	libjava.lang/String_2.java, libjava.lang/String_2.out,
 	libjava.lang/String_3.java, libjava.lang/String_3.out,
 	libjava.lang/String_4.java, libjava.lang/String_4.out,
 	libjava.lang/String_5.java, libjava.lang/String_5.out,
 	libjava.lang/String_6.java, libjava.lang/String_6.out,
 	libjava.lang/String_7.java, libjava.lang/String_7.out,
 	libjava.lang/String_8.java, libjava.lang/String_8.out,
 	libjava.lang/String_9.java, libjava.lang/String_9.out: Created.

Tue Sep  8 13:31:59 1998  Warren Levy  <warrenl@cygnus.com>

	* libjava.lang/Byte_1.java, libjava.lang/Byte_1.out,
	libjava.lang/Short_1.java, libjava.lang/Short_1.out: New files.

Thu Sep  3 15:57:57 1998  Warren Levy  <warrenl@cygnus.com>

	* libjava.lang/Boolean_1.java, libjava.lang/Boolean_1.out,
 	libjava.lang/Boolean_2.java, libjava.lang/Boolean_2.out,
 	libjava.lang/Boolean_3.java, libjava.lang/Boolean_3.out,
 	libjava.lang/Boolean_4.java, libjava.lang/Boolean_4.out,
 	libjava.lang/Boolean_5.java, libjava.lang/Boolean_5.out: Created.

Tue Sep  1 12:27:54 1998  Tom Tromey  <tromey@cygnus.com>

	* lib/libjava.exp (bytecompile_file): Don't throw error if byte
	compilation fails.  Added `srcfile_in' argument.  Changed return
	value.
	(test_libjava): Gracefully handle byte-compilation failure.

	* libjava.lang/System_15.java (main): Typo fix.
	(System_15): Choose correct class name.
	(X): Moved into System_15.

	* libjava.lang/System_1.java, libjava.lang/System_1.out,
	libjava.lang/System_10.java, libjava.lang/System_10.out,
	libjava.lang/System_11.java, libjava.lang/System_11.out,
	libjava.lang/System_12.java, libjava.lang/System_12.out,
	libjava.lang/System_13.java, libjava.lang/System_13.out,
	libjava.lang/System_14.java, libjava.lang/System_14.out,
	libjava.lang/System_15.java, libjava.lang/System_15.out,
	libjava.lang/System_2.java, libjava.lang/System_2.out,
	libjava.lang/System_3.java, libjava.lang/System_3.out,
	libjava.lang/System_4.java, libjava.lang/System_4.out,
	libjava.lang/System_5.java, libjava.lang/System_5.out,
	libjava.lang/System_6.java, libjava.lang/System_6.out,
	libjava.lang/System_7.java, libjava.lang/System_7.out,
	libjava.lang/System_8.java, libjava.lang/System_8.out,
	libjava.lang/System_9.java, libjava.lang/System_9.out: New files.

	* lib/libjava.exp (test_libjava): Only add -lgc or -lqthreads if
	library is actually found.

	* lib/libjava.exp (test_libjava): Look for qthreads.

Mon Aug 31 17:49:21 1998  Warren Levy  <warrenl@cygnus.com>

	* libjava.util/Random_1.java, libjava.util/Random_1.out,
 	libjava.util/Random_2.java, libjava.util/Random_2.out,
 	libjava.util/Random_3.java, libjava.util/Random_3.out,
 	libjava.util/Random_4.java, libjava.util/Random_4.out,
 	libjava.util/Random_5.java, libjava.util/Random_5.out,
 	libjava.util/Random_6.java, libjava.util/Random_6.out,
 	libjava.util/Random_7.java, libjava.util/Random_7.out,
 	libjava.util/Random_8.java, libjava.util/Random_8.out,
 	libjava.util/test.exp: Created.

Mon Aug 31 16:37:19 1998  Tom Tromey  <tromey@cygnus.com>

	* lib/libjava.exp: Changed gjavac to gcj everywhere.

Wed Aug 26 12:20:10 1998  Anthony Green  <green@cygnus.com>

	* Makefile.am (EXPECT,RUNTEST): Find expect and runtest
	correctly.
	* Makefile.in: Rebuild.

Tue Aug 25 18:43:33 1998  Anthony Green  <green@cygnus.com>

	* lib/libjava.exp: Fix CLASSPATH setting.

Tue Aug 25 17:27:37 1998  Anthony Green  <green@cygnus.com>

	* ChangeLog, lib/libjava.exp, config/default.exp,
	libjava.lang/Finalize_1.java, libjava.lang/Finalize_1.out,
	libjava.lang/Float_1.java, libjava.lang/Float_1.out
	libjava.lang/test.exp, Makefile.am, Makefile.in: Created.

