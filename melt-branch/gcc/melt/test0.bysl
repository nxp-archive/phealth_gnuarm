;; -*- lisp -*-

(defclass my_class_root 
 :predef CLASS_ROOT
 :fields (root_f1 ; root_f2
		  ))


(defprimitive boxint (:long i) :value 
  "basilysgc_new_int( BASILYSGOB(DISCR_INTEGER), (" i "))"
)
(definstance ii my_class_root 
  :root_f1 (boxint 1001))

(defprimitive gti (:long a b) :long 
  "((" a ")>(" b "))")

(defprimitive puts (:cstring s) :void "puts(" s ")")

(defun foo (x :long n) 
  (if
      (gti n 0) 
      x 
    (boxint n)))

(defun bar (y)
  (if y
      (foo y 12)
    (boxint 1234)))

(defun testforever (z)
  (forever loop
	   (exit loop (bar z))))
 
(defun testmulticall (f g x)
  (multicall 
   (r1 r2) 
   (g x)
   (f r1 r2)))

(if foo 
    (puts "has foo"))

(if boxint 
    (puts "has boxint"))

(puts "end test0")
;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
#| ; SKIPPING
; SKIPPED |#