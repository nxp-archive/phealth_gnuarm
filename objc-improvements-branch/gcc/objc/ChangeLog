2004-01-30  Ziemowit Laski  <zlaski@apple.com>

	* Make-lang.in (objc-lang.o): Depend on $(C_PRETTY_PRINT_H),
	$(DIAGNOSTIC_H), c-objc-common.h and gtype-objc.h.
	(objc-act.o): Do not depend on gtype-objc.h.
	* config-lang.in (lang_requires): Add "C" as dependency.
	* lang_specs.h: Rename 'objc-cpp-output' to 'objective-c-cpp-output'.
	* objc-act.c: Do not include gtype-objc.h; in ObjC++ mode, include
	cp-tree.h, lex.h and objcp-decl.h instead of c-tree.h.
	(comp_method_with_proto): Remove.
	(objc_init): In ObjC++ mode, call cxx_init instead of c_objc_common_init.
	(finish_file): In ObjC++ mode, call cp_finish_file instead of
	c_objc_common_finish_file.
	(objc_check_decl, is_class_name): Use OBJC_TYPE_NAME instead of TYPE_NAME.
	(synth_module_prologue, build_module_descriptor, continue class):
	In ObjC++ mode, generate 'extern "C" { ... }' wrappers around synthesized
	declarations.
	(objc_exit_block): Adjust ObjC++ finish_compound_stmt() impedance
	mismatch.
	(get_arg_type_list): Call groktypename instead of
	groktypename_in_parm_context.
	(finish_message_expr): Use OBJC_TYPE_NAME and OBJC_SET_TYPE_NAME
	macros instead of TYPE_NAME.
	(objc_types_are_equivalent): Strip away indirections before comparing
	underlying types.
	(really_start_method): Call comp_proto_with_proto instead of
	comp_method_with_proto.
	* objc-act.h (OBJC_SET_TYPE_NAME): New macro.
	* objc-lang.c: Update copyright notice; include diagnostic.h,
	c-objc-common.h, c-pretty-print.h and gtype-objc.h; do not include
	toplev.h.
	(LANG_HOOKS_FINISH, LANG_HOOKS_INIT_OPTIONS,
	LANG_HOOKS_INITIALIZE_DIAGNOSTICS, LANG_HOOKS_HANDLE_OPTION,
	LANG_HOOKS_MISSING_ARGUMENT, LANG_HOOKS_POST_OPTIONS,
	LANG_HOOKS_GET_ALIAS_SET, LANG_HOOKS_SAFE_FROM_P, 
	LANG_HOOKS_EXPAND_EXPR, LANG_HOOKS_MARK_ADDRESSABLE, 
	LANG_HOOKS_PARSE_FILE, LANG_HOOKS_TRUTHVALUE_CONVERSION,
	LANG_HOOKS_FINISH_INCOMPLETE_DECL, LANG_HOOKS_UNSAFE_FOR_REEVAL,
	LANG_HOOKS_STATICP, LANG_HOOKS_SET_DECL_ASSEMBLER_NAME, 
	LANG_HOOKS_NO_BODY_BLOCKS, LANG_HOOKS_WARN_UNUSED_GLOBAL_DECL,
	LANG_HOOKS_PRINT_IDENTIFIER, LANG_HOOKS_FUNCTION_ENTER_NESTED,
	LANG_HOOKS_FUNCTION_LEAVE_NESTED, LANG_HOOKS_DUP_LANG_SPECIFIC_DECL,
	LANG_HOOKS_DECL_UNINIT, LANG_HOOKS_RTL_EXPAND_STMT,
	LANG_HOOKS_COMMON_ATTRIBUTE_TABLE, LANG_HOOKS_FORMAT_ATTRIBUTE_TABLE,
	LANG_HOOKS_TREE_INLINING_CANNOT_INLINE_TREE_FN,
	LANG_HOOKS_TREE_INLINING_DISREGARD_INLINE_LIMITS,
	LANG_HOOKS_TREE_INLINING_ANON_AGGR_TYPE_P,
	LANG_HOOKS_TREE_INLINING_CONVERT_PARM_FOR_INLINING,
	LANG_HOOKS_TREE_INLINING_ESTIMATE_NUM_INSNS,
	LANG_HOOKS_TREE_DUMP_DUMP_TREE_FN,
	LANG_HOOKS_CALLGRAPH_EXPAND_FUNCTION, LANG_HOOKS_TYPE_FOR_MODE,
	LANG_HOOKS_TYPE_FOR_SIZE, LANG_HOOKS_SIGNED_TYPE,
	LANG_HOOKS_UNSIGNED_TYPE, LANG_HOOKS_SIGNED_OR_UNSIGNED_TYPE,
	LANG_HOOKS_INCOMPLETE_TYPE_ERROR, LANG_HOOKS_TYPE_PROMOTES_TO,
	LANG_HOOKS_REGISTER_BUILTIN_TYPE, LANG_HOOKS_WRITE_GLOBALS):
	Move to c-objc-common.h.
